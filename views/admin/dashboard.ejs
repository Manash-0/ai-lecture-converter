<<<<<<< HEAD
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="container">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <h1>Admin Dashboard</h1>
            <a href="/logout">Logout</a>
        </div>
        <p>Manage subjects and their content.</p>

        <!-- ADD NEW SUBJECT FORM -->
        <div class="add-subject-form">
            <h2>Add New Subject (Will default to 6 units)</h2>
            <form action="/admin/add-subject" method="POST">
                <div class="form-group">
                    <label for="subjectName">Subject Name:</label>
                    <input type="text" id="subjectName" name="subjectName" required placeholder="e.g., Cloud Computing">
                </div>
                <div class="form-group">
                    <label for="subjectCode">Subject Code (Short, no spaces):</label>
                    <input type="text" id="subjectCode" name="subjectCode" required placeholder="e.g., CC">
                </div>
                <button type="submit">Add Subject</button>
            </form>
        </div>

        <!-- LIST OF EXISTING SUBJECTS -->
        <h2>Existing Subjects</h2>
        <div class="subjects-list">
            <% Object.keys(subjects).forEach(subjectId => { %>
                <div class="subject-management">
                    <div>
                        <strong><%= subjects[subjectId].name %></strong> (<%= subjects[subjectId].code %>)
                    </div>
                    <div class="subject-actions">
                        <a href="/admin/<%= subjectId %>" class="button-link">Manage Content</a>
                        <a href="/admin/edit-subject/<%= subjectId %>" class="button-link-edit">Edit Names</a>
                        <form id="delete-form-<%= subjectId %>" action="/admin/delete-subject/<%= subjectId %>" method="POST" style="display: inline;">
                            <button type="button" class="delete-btn" data-formid="<%= subjectId %>">Delete</button>
                        </form>
                    </div>
                </div>
            <% }) %>
        </div>
    </div>

    <!-- CONFIRM DELETE MODAL -->
    <div id="delete-modal" class="modal">
        <div class="modal-content">
            <h4>Confirm Deletion</h4>
            <p>Are you sure you want to delete this subject? This action cannot be undone.</p>
            <div class="modal-actions">
                <button id="cancel-delete">Cancel</button>
                <button id="confirm-delete">Delete</button>
            </div>
        </div>
    </div>
    
    <button id="theme-toggle">ðŸŒ™</button>
    <script src="/script.js"></script>
    <script>
        const modal = document.getElementById('delete-modal');
        const cancelBtn = document.getElementById('cancel-delete');
        const confirmBtn = document.getElementById('confirm-delete');
        let formToSubmit = null;

        document.querySelectorAll('.delete-btn').forEach(button => {
            button.addEventListener('click', (e) => {
                const formId = e.target.dataset.formid;
                formToSubmit = document.getElementById(`delete-form-${formId}`);
                modal.style.display = 'block';
            });
        });

        cancelBtn.addEventListener('click', () => {
            modal.style.display = 'none';
            formToSubmit = null;
        });

        confirmBtn.addEventListener('click', () => {
            if (formToSubmit) {
                formToSubmit.submit();
            }
        });

        window.addEventListener('click', (e) => {
            if (e.target == modal) {
                modal.style.display = 'none';
                formToSubmit = null;
            }
        });
    </script>
</body>
</html>

=======
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="container">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <h1>Admin Dashboard</h1>
            <a href="/logout">Logout</a>
        </div>
        <p>Manage subjects and their content.</p>

        <!-- ADD NEW SUBJECT FORM -->
        <div class="add-subject-form">
            <h2>Add New Subject (Will default to 6 units)</h2>
            <form action="/admin/add-subject" method="POST">
                <div class="form-group">
                    <label for="subjectName">Subject Name:</label>
                    <input type="text" id="subjectName" name="subjectName" required placeholder="e.g., Cloud Computing">
                </div>
                <div class="form-group">
                    <label for="subjectCode">Subject Code (Short, no spaces):</label>
                    <input type="text" id="subjectCode" name="subjectCode" required placeholder="e.g., CC">
                </div>
                <button type="submit">Add Subject</button>
            </form>
        </div>

        <!-- LIST OF EXISTING SUBJECTS -->
        <h2>Existing Subjects</h2>
        <div class="subjects-list">
            <% Object.keys(subjects).forEach(subjectId => { %>
                <div class="subject-management">
                    <div>
                        <strong><%= subjects[subjectId].name %></strong> (<%= subjects[subjectId].code %>)
                    </div>
                    <div class="subject-actions">
                        <a href="/admin/<%= subjectId %>" class="button-link">Manage Content</a>
                        <a href="/admin/edit-subject/<%= subjectId %>" class="button-link-edit">Edit Names</a>
                        <form id="delete-form-<%= subjectId %>" action="/admin/delete-subject/<%= subjectId %>" method="POST" style="display: inline;">
                            <button type="button" class="delete-btn" data-formid="<%= subjectId %>">Delete</button>
                        </form>
                    </div>
                </div>
            <% }) %>
        </div>
    </div>

    <!-- CONFIRM DELETE MODAL -->
    <div id="delete-modal" class="modal">
        <div class="modal-content">
            <h4>Confirm Deletion</h4>
            <p>Are you sure you want to delete this subject? This action cannot be undone.</p>
            <div class="modal-actions">
                <button id="cancel-delete">Cancel</button>
                <button id="confirm-delete">Delete</button>
            </div>
        </div>
    </div>
    
    <button id="theme-toggle">ðŸŒ™</button>
    <script src="/script.js"></script>
    <script>
        const modal = document.getElementById('delete-modal');
        const cancelBtn = document.getElementById('cancel-delete');
        const confirmBtn = document.getElementById('confirm-delete');
        let formToSubmit = null;

        document.querySelectorAll('.delete-btn').forEach(button => {
            button.addEventListener('click', (e) => {
                const formId = e.target.dataset.formid;
                formToSubmit = document.getElementById(`delete-form-${formId}`);
                modal.style.display = 'block';
            });
        });

        cancelBtn.addEventListener('click', () => {
            modal.style.display = 'none';
            formToSubmit = null;
        });

        confirmBtn.addEventListener('click', () => {
            if (formToSubmit) {
                formToSubmit.submit();
            }
        });

        window.addEventListener('click', (e) => {
            if (e.target == modal) {
                modal.style.display = 'none';
                formToSubmit = null;
            }
        });
    </script>
</body>
</html>

>>>>>>> 5727652b69a5727bc4026541f31d5c71089e0237
